<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="css/main.css">
	<title>Service Sizer by Z</title>
</head>
<body>
<div id="banner">
	<h1>Utilities Water Service Sizer</h1><h2>City of Bloomington, Indiana</h2>
</div>
<div id="mainContent">
	<form action="process.php" method="post">
		<P/>
		<fieldset><legend class = "ztitle">DEMAND CALCULATION</legend>
		<table>
		<tr><td><label for="preflush">Predominatly Flushometers:</label></td>
			<td><select name="preflush" id="preflush" onchange="calculategpm()">
					<option>Yes</option>
					<option selected="selected">No</option>
				</select>
			</td>
		</tr>

		<tr><td><label for="publicuse">Public Use:</label></td>
			<td><select name="publicuse" id="publicuse" onchange="calculategpm()">
					<option>Yes</option>
					<option selected="selected">No</option>
				</select>
			</td>
		</tr>
		</table>

		<p/>
		<legend>Number of Fixtures</legend>
		<table width="100%">
		<tr><td><input name="bathtub" id="bathtub" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="bathtub">:Bathtub</label></td>
			<td><input name="bathroomsink" id="bathroomsink" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="bathroomsink">:Bathroom Sink</label></td>
			<td><input name="showerhead" id="showerhead" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="showerhead">:Shower Head</label></td>
			<td><input name="bidet" id="bidet" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="bidet">:Bidet</label></td>
		</tr>

		<tr><td><input name="toilettank" id="toilettank" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="toilett">:Toilet (Tank)</label></td>
			<td><input name="toiletflush" id="toiletflush" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="toiletflush">:Toilet (Flushvalve)</label></td>
			<td><input name="urinaltank" id="urinaltank" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="urinaltank">:Urinal (Tank)</label></td>
			<td><input name="urinalflush" id="urinalflush" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="urinalflush">:Urinal (Flushvalve)</label></td>
		</tr>

		<tr><td><input name="kitchensink" id="kitchensink" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="kitchensink">:Kitchen Sink</label></td>
			<td><input name="servicesink" id="servicesink" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="servicesink">:Service Sink</label></td>
			<td><input name="barsink" id="barsink" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="barsink">:Bar Sink</label></td>
			<td><input name="mopsink" id="mopsink" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="mopsink">:Mop Sink</label></td>


		</tr>

		<tr><td><input name="dishwasher" id="dishwasher" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="dishwasher">:Dish Washer</label></td>
			<td><input name="commercialbaysink" id="commercialbaysink" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="commercialbaysink">:Commecial Multi-Bay Sink</label></td>
			<td><input name="commercialsprayer" id="commercialsprayer" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="commercialsprayer">:Commercial Sprayer</label></td>
			<td><input name="hosebib" id="hosebib" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="hosebib">:Hose Bib</label></td>

		</tr>


		<tr><td><input name="washingmachine" id="washingmachine" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="washingmachine">:Washing Machine</label></td>
			<td><input name="laundrytrays" id="laundrytrays" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="laundrytrays">:Laundry Tub</label></td>
			<td><input name="drinkingfountain" id="drinkingfountain" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="drinkingfountain">:Drinking Fountain</label></td>
			<td><input name="icemachine" id="icemachine" size="1" type="number" onchange="calculategpm()"/></td>
			<td><label for="icemachine">:Ice Machine</label></td>
		</tr>





		</table>
		<p/>
		<p><tr><td><label>Additional Fixture Units: <td><input name="addfixunits" size="5"   id="addfixunits" type="number" onchange="calculategpm()"/>units</td></label></td></p>
		<p><td><label>Continuous Demand: <td><input name="condem" size="5"  id="condem" type="number" onchange="calculategpm()"/></td>gpm</label></p>

		<p/>


			<div class = "center">
			<input type="button" value="Refresh" class = "tenpt" onclick="calculategpm() , calcpipetable()" />

		<p/>
		<fieldset>
			<p/>
			<p><label>Total Fixture Units: <input name="totalfixunits" value="0" id="totalfixunits" size="5" />units</label></p>
			<p><label>Calculated Needed GPM: <input name="calcgpm" value="0" id="calcgpm" size="5" onchange="calcpipetable()"/>gpm</label></p>
		</fieldset>
		</fieldset>


	<p/>
	<fieldset><legend class = "ztitle">SIZING CALCULATION</legend>
	<fieldset>
		<legend>Max Permitted Velocity</legend>
		<tr><td><label for="pervel">Permitted Velocity:</label></td>
			<td><input name="pervel" id="pervel" size="5" value="8" type = "number" onchange = "calcpipetable()" /></td></tr>

</fieldset>
</p>

	<fieldset>
	<legend>Max Allowable Head Loss</legend>
	<table>
	<tr><td><label>Supply Pressure: </label></td>
		<td><input name="supplypress" id="supplypress" size="5" type="number"  value = "" onchange="calculatemaxheadloss()" /><label> psi</label></td>
		<td></td></tr>
	<tr><td><label>Customer Min. Pressure: </label></td>
		<td><input name="customerpress"  id="customerpress" size="5" type="number" value = "20" onchange="calculatemaxheadloss()" /><label> psi</label></td>
		<td></td></tr>
	<tr><td><label>Elevation Diff: </label></td>
		<td><input name="elevdiff"  id="elevdiff" size="5" type="number" value = "0" onchange="calculatemaxheadloss()" /><label> ft</label></td>
		<td class = "wide">(negative if demand location is lower than supply)</td></tr>
	</table>

	<div class = "center">
	<input type="button" value="Refresh" class = "tenpt" onclick="calculatemaxheadloss()" />
	<input type="button" value="Reset" class = "tenpt" onclick="clearmaxheadloss()" />
</div>
<p/>
</fieldset>
<p/>
<fieldset>
	<label>Max Allowable Head Loss: <input style = "width: 30px;" name="maxheadloss" id="maxheadloss" size="5" /> ft.</label>
	<label> or <input style = "width: 30px;" name="maxheadlosspsi" id="maxheadlosspsi" size="5" /> psi</label>

</fieldset>
</fieldset>
<p/>

<fieldset>

	<legend class="ztitle">HEAD LOSS CALCULATION</legend>

	<table width = "100%">
	<tr><th colspan="10">Number of Valves &amp; fittings:</th></tr>

	<tr><td><input type="number" name="corpstop" id="corpstop" size="1" value="1" onchange="calcpipetable()"/></td>
		<td><label for="corpstop">:Corp Stop</label></td>
		<td><input type="number" name="curbstop" id="curbstop" size="1" value="1" onchange="calcpipetable()" /></td>
		<td><label for="curbstop">:Curb Stop</label></td>
		<td><input type="number" name="gatevalve" id="gatevalve" size="1" onchange="calcpipetable()" /></td>
		<td><label for="gatevalve">:Gate Valve</label></td>
		<td><input type="number" name="ballvalve" id="ballvalve" size="1" value="1" onchange="calcpipetable()" /></td>
		<td><label for="ballvalve">:Ball Valve</label></td>
		<td><input type="number" name="anglevalve" id="anglevalve" size="1" onchange="calcpipetable()"/></td>
		<td><label for="anglevalve">:Angle Valve</label></td>
	</tr>

	<tr><td><input type="number" name="bflyvalve" id="bflyvalve" size="1" onchange="calcpipetable()"/></td>
		<td><label for="bflyvalve">:Bfly Valve</label></td>
		<td><input type="number" name="swingchk" id="swingchk" size="1" onchange="calcpipetable()"/></td>
		<td><label for="swingchk">:Swing Chk</label></td>
		<td><input type="number" name="sidetee" id="sidetee" size="1" onchange="calcpipetable()" /></td>
		<td><label for="sidetee">:Side Tee</label></td>
		<td><input type="number" name="straighttee" id="straighttee" size="1" onchange="calcpipetable()" /></td>
		<td><label for="straighttee">:Straight T</label></td>
		<td><input type="number" name="stdelbow" id="stdelbow" size="1" value="1" onchange="calcpipetable()" /></td>
		<td><label for="stdelbow">:Std Elbow</label></td>
	</tr>

	<tr><td><input type="number" name="longelbow" id="longelbow" size="1" onchange="calcpipetable()"/></td>
		<td><label for="longelbow">:Long Elbow</label></td>
		<td><input type="number" name="fortyfiveelbow" id="fortyfiveelbow" size="1"onchange="calcpipetable()" /></td>
		<td><label for="fortyfiveelbow">:45 Elbow</label></td>
		<td><input type="number" name="yto1" id="yto1" size="1" value="1" onchange="calcpipetable()" /></td>
		<td><label for="yto1">:''Y'' to 1''</label></td>
		<td><input type="number" name="reducer1" id="reducer1" size="1" onchange="calcpipetable()" /></td>
		<td><label for="reducer1">:Reducer/1''</label></td>
		<td><input type="number" name="coupling" id="coupling" size="1" onchange="calcpipetable()"/></td>
		<td><label for="coupling">:Coupling</label></td>
	</tr>
	</table>

	<table>
	<tr><td><label for="backflow">Backflow Prev:</label></td>
		<td><input type = "number" name="backflow" id="backflow" size="5" value="0" onchange="calcpipetable()" />psi</td></tr>
	<tr><td><label for="watermeter">Water Meter:</label></td>
		<td><input type = "number" name="watermeter" id="watermeter" size="5" value="6.6" onchange="calcpipetable()" />psi</td></tr>
	<tr><td><label for="prv">PRV:</label></td>
		<td><input type = "number" name="prv" id="prv" size="5" value="0" onchange="calcpipetable()"/>psi</td></tr>
	<tr><td><label for="otherloss">Other:</label></td>
		<td><input type = "number" name="otherloss" id="otherloss" value="0" size="5" onchange="calcpipetable()"/>psi</td></tr>
	</table>




	<table width = "100%">
		<tr><th width = "30%">Pipe Sizing and Loss:</th></tr>


		<tr><td width = "20%"><label for="pipetype">Pipe Type:</label></td>
			<td><select name="pipetype" id="pipetype" onchange="displaypipesize() , calcpipetable()">
					<option>Poly</option>
					<option>Copper</option>
					<option>Cast Iron</option>
					<option>Ductile Iron</option>
					<option>C-900</option>
				</select>
			</td>




		<td><label for="cipipeage" id = cipipeagelabel class = "hidden" >Pipe Age:</label></td>
			<td><select name="cipipeage" class = "hidden" id="cipipeage" onchange="calcpipetable()">
					<option>New</option>
					<option>10 Years</option>
					<option>20 Years</option>
					<option>30 Years</option>
					<option>40 Years</option>
				</select>
			</td>


		</tr>
 <p/>
	<tr><td><label for="pipelength">Pipe Length:</label></td>
		<td><input name="pipelength" id="pipelength" size="5" value="0" type="number" onchange="calcpipetable()" /> ft</td>
</table>
</fieldset>
</p>
<fieldset>
<legend class="ztitle">Pipe Selection</legend>


		<table width="100%">
			<tr>
					 <th>Select</th>
					 <th>Pipe Size</th>
					 <th>Velocity</th>
					 <th>Headloss</th>
					 <th>PSI at Customer</th>
			 </tr>

		</table>
		<table width = "100%">
		  <tr id = "0.75main">
		    <td><input type="radio" name="news2" value="0.75"></td>
		    <td>0.75</td>
				<td id = "0.75v"></td>
				<td id = "0.75"></td>
				<td id = "0.75p"></td>
		  </tr>
		  <tr id = "1main">
		    <td><input type="radio" name="news2" value="1"></td>
		    <td>1</td>
		    <td id = "1v"></td>
		    <td id = "1"></td>
				<td id = "1p"></td>
		  </tr>
		  <tr id = "1.25main">
		    <td><input type="radio" name="news2" value="1.25"></td>
				<td>1.25</td>
		    <td id = "1.25v"></td>
		    <td id = "1.25"></td>
				<td id = "1.25p"></td>
		  </tr>
		  <tr id = "1.5main">
		    <td><input type="radio" name="news2" value="1.5"></td>
				<td>1.5</td>
		    <td id = "1.5v"></td>
		    <td id = "1.5"></td>
				<td id = "1.5p"></td>
		  </tr>
		  <tr id = "2main">
		    <td><input type="radio" name="news2" value="2"></td>
				<td>2</td>
		    <td id = "2v"></td>
		    <td id = "2"></td>
				<td id = "2p"></td>
		  </tr>
		  <tr id = "2.5main">
		    <td><input type="radio" name="news2" value="2.5"></td>
				<td>2.5</td>
		    <td id = "2.5v"></td>
		    <td id = "2.5"></td>
				<td id = "2.5p"></td>
		  </tr>
		  <tr id = "3main">
		    <td><input type="radio" name="news2" value="3"></td>
				<td>3</td>
		    <td id = "3v"></td>
		    <td id = "3"></td>
				<td id = "3p"></td>
		  </tr>
			<tr id = "3.5main">
				<td><input type="radio" name="news2" value="3.5"></td>
				<td>3.5</td>
				<td id = "3.5v"></td>
				<td id = "3.5"></td>
				<td id = "3.5p"></td>
			</tr>
			<tr id = "4main">
				<td><input type="radio" name="news2" value="4"></td>
				<td>4</td>
				<td id = "4v"></td>
				<td id = "4"></td>
				<td id = "4p"></td>
			</tr>
			<tr id = "5main">
				<td><input type="radio" name="news2" value="5"></td>
				<td>5</td>
				<td id = "5v"></td>
				<td id = "5"></td>
				<td id = "5p"></td>
			</tr>
			<tr id = "6main">
				<td><input type="radio" name="news2" value="6"></td>
				<td>6</td>
				<td id = "6v"></td>
				<td id = "6"></td>
				<td id = "6p"></td>
			</tr>
			<tr id = "8main">
				<td><input type="radio" name="news2" value="8"></td>
				<td>8</td>
				<td id = "8v"></td>
				<td id = "8"></td>
				<td id = "8p"></td>
			</tr>
			<tr id = "10main">
				<td><input type="radio" name="news2" value="10"></td>
				<td>10</td>
				<td id = "10v"></td>
				<td id = "10"></td>
				<td id = "10p"></td>
			</tr>
			<tr id = "12main">
				<td><input type="radio" name="news2" value="12"></td>
				<td>12</td>
				<td id = "12v"></td>
				<td id = "12"></td>
				<td id = "12p"></td>
			</tr>

		</table>

</fieldset>




<p/>
<div class = "center">
<input type="button" value="Reset All" class = "tenpt" onclick="clearall()" />
</div>

	<fieldset><legend class = "ztitle">SUMMARY</legend>
	<table>
		<tr><td><label for="pipediameter">Pipe Diameter:</label></td>
			<td><input name="pipediameter" id="pipediameter" size="5"/><label> in</label></td></tr>
		<td><label for="pipeheadloss">Head Loss</label></td>
			<td><label><input name="totalheadloss" style = "width: 30px;" id="totalheadloss" size="5"/> ft</label>
			 or <label><input style = "width: 30px;"  name="totalheadlosspsi" id="totalheadlosspsi" size="5" /> psi</label></td></tr>
	</table>
	</fieldset>


	</form>
</div>
<div id="footer">
	<p>Email <a href="mailto:zimmermant@bloomington.in.gov">zimmermant@bloomington.in.gov</a>
 for assistance.
	Service Sizer. By Z. 2020
	<!-- Process Time: 0.00020599365234375 -->
</p>

</div>


</body>
<script type="text/javascript" src="java/tables/demand.java"></script>
<script type="text/javascript" src="java/tables/pipes.java"></script>
<script type="text/javascript" src="java/tables/fittings.java"></script>

<script type="text/javascript" src="java/display/display.java"></script>

<script type="text/javascript" src="java/calc/demandcalc.java"></script>
<script type="text/javascript" src="java/calc/maxheadlosscalc.java"></script>
<script type="text/javascript" src="java/calc/headlosscalc.java"></script>
<script type="text/javascript" src="java/calc/fittingcalc.java"></script>
<script>calcpipetable()</script>
<script>displaypipesize()</script>
</html>c
